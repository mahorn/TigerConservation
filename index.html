<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Royal Bengal Tiger Conservation Areas in India</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
<link href="https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.min.css" rel="stylesheet">
    <link href='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css' rel='stylesheet' />
  <style>
      body,
      #map {
        position: absolute;
        width: 100%;
        top: 0;
        bottom: 0;
        margin: 0;
        padding: 0;
        background: rgba(0,0,0,.75);
        z-index: -1;
    }

  </style>

</head>



<body>
<!-- Test -->
<div class='viewport-full relative scroll-hidden'>
  <div class='bg-darken10 viewport-twothirds viewport-full-ml absolute top left right bottom'></div>
  <div class='absolute top-ml left bottom z1 w-full w360-ml px12 py12-ml'>
    <div class='flex-parent flex-parent--column viewport-third h-auto-ml hmax-full bg-white round-ml shadow-darken10'>
      <div class='px12 py12 scroll-auto'>
        <h2 class='txt-xl txt-bold mb6'>The End of a Dynasty?</h2>
        <p>The Royal Bengal Tiger (scientific name) is nearing the end of its reign in Southeast Asia.</p>
        <br>
        <h2 class='txt-m txt-bold mb6'><svg class='icon'><use xlink:href='#icon-layers'/></svg>Legend</h2>
        <ul>
<li class='color-green'><svg class='icon'><use xlink:href='#icon-polygon'/></svg>Protected Wildlife Areas</li>
<li class='color-yellow'><svg class='icon'><use xlink:href='#icon-polygon'/></svg>Tiger Conservation Areas</li>
<li class='color-red'><svg class='icon'><use xlink:href='#icon-polygon'/></svg>Tiger Conservation High Priority</li>
        </ul>
      </div>


      <footer class='px12 py12 bg-gray-faint round-b-ml txt-s'>
        <ul>
          <li>Data Sources:
            <a class='link' href='https://icta-kenyaopendata.opendata.arcgis.com/datasets/national-boys-and-girls-enrollments-per-class-for-primary-school-education'>data</a>
          </li>
          <br>
          <li>Map authored by
            <p> Marissa Defratti & Maria Renee </p>
          </li>
        </ul>
      </footer>
    </div>
  </div>
</div>


<!-- legend -->


<!--Test-->
    <div id="map"></div>


<!--Load JS Scripts-->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
  <script async defer src="https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.js"></script>

<!--Custom JS-->
  <script>
    var options = {
        center: [21.7679, 78.8718],
        zoom: 5,
        minZoom: 2,
        maxZoom: 12,
        maxBounds: [
            [21.7779, 78.8618],
            [21.7579, 78.8718]
        ]
    };
    var map = L.map('map', options);

//Basemap
    L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
    subdomains: 'abcd',
    maxZoom: 19
    }).addTo(map);

//Loading data layers
    $.when(
        $.getJSON('Data/india-states.json'),
        $.getJSON('Data/conservation-areas.json'),
        $.getJSON('Data/conservation-focus.json'),
        $.getJSON('Data/wildlife-areas.json')
    ).done(function (indiaStates, conservationAreas, conservationFocus,                    wildlifeAreas) {
        drawMap(indiaStates, conservationAreas, conservationFocus, wildlifeAreas);
    });

      function drawMap(indiaStatesData, conservationAreasData, conservationFocusData, wildlifeAreasData) {
          L.geoJson(indiaStatesData, {
                   style: statesOptions
          }).addTo(map);
          L.geoJson(conservationAreasData, {
              style: conAreasOptions
          }).addTo(map);
          L.geoJson(conservationFocusData, {
              style: conFocusOptions
          }).addTo(map);
          L.geoJson(wildlifeAreasData, {
              style: wildlifeOptions
          }).addTo(map);

      }

// Layer styles
      var statesOptions = {
          color: '#d0d3d4',
          weight: 0.5
      }

      var conAreasOptions = {
          color: '#d4ac0d',
          weight: 2
      }

      var conFocusOptions = {
          color: '#e74c3c',
          weight: 2
      }

      var wildlifeOptions = {
          color: '#00ffff',
          weight: 2
      }

  </script>
</body>
</html>
