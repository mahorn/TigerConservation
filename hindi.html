<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">

  <title>बाघ संरक्षण</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
  <link href="https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.min.css" rel="stylesheet">
  <link href='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css' rel='stylesheet' />
  <style>
    body,
    #map {
      position: absolute;
      width: 100%;
      top: 0;
      bottom: 0;
      margin: 0;
      padding: 0;
      background: rgba(0, 0, 0, .75);
      z-index: -1;
    },
    .tooltip {
    color: white;
    background: #295b97;
    border: 0;
    font-size: 1.3em;
}
  </style>

</head>



<body>


  <div class='viewport-full relative scroll-hidden'>
    <div class='bg-darken10 viewport-twothirds viewport-full-ml absolute top left right bottom'></div>
    <div class='absolute top-ml left bottom z1 w-full w360-ml px12 py12-ml'>
      <div class='flex-parent flex-parent--column viewport-third h-auto-ml hmax-full bg-white round-ml shadow-darken10'>
        <div class='px12 py12 scroll-auto'>
          <h2 class='txt-l txt-bold mb6 align-center'>जंगल की रानी</h2>
          <img src="img/tiger.jpg">
          <p>रॉयल बंगाल टाइगर   (<a class='link' href='http://www.iucnredlist.org/details/136899/0'>Panthera tigris tigris</a>) दक्षिणपूर्व एशिया में अपने शासनकाल के अंत के करीब है. प्रजातियों को आईयूसीएन रेड लिस्ट पर लुप्तप्राय के रूप में सूचीबद्ध किया गया है और वास के अवैध शिकार, हानि और विखंडन से धमकी दी गई है. बाघ संरक्षण क्षेत्रों में से कोई भी 250 से अधिक वयस्क बाघों की बाघ आबादी का समर्थन करने के लिए पर्याप्त नहीं माना जाता है।.</p>
          <br>
          <h2 class='txt-m txt-bold mb6'><div style="display: inline-block; vertical-align: middle"><svg class='icon'><use xlink:href='#icon-layers'/></svg></div>कुंजी</h2>
          <ul>
            <li class='color-green'><div style="display: inline-block; vertical-align: middle"><svg class='icon'><use xlink:href='#icon-polygon'/></svg></div>संरक्षित वन्यजीव क्षेत्रों</li>
            <li class='color-yellow'><div style="display: inline-block; vertical-align: middle"><svg class='icon'><use xlink:href='#icon-polygon'/></svg></div>बाघ संरक्षण क्षेत्र</li>
            <li class='color-red'><div style="display: inline-block; vertical-align: middle"><svg class='icon'><use xlink:href='#icon-polygon'/></svg></div>बाघ संरक्षण उच्च प्राथमिकता</li>
          </ul>

        </div>
        <footer class='px12 py12 bg-gray-faint round-b-ml txt-s'>
          <ul>
            <li>डेटा:
              <a class='link' href='https://www.protectedplanet.net/country/IN'>Protected Planet</a>,   <a class='link' href='http://data.globalforestwatch.org/datasets'>Global Forest Watch</a>.
            </li>
            <br>
            <li>नक्शा लेखकों:
              <p> Marissa Defratti & Maria Renee </p>
            </li>
          </ul>
        </footer>
      </div>
    </div>
    <div class='absolute bottom right pr120 pb24'>
      <button href='marathi.html' class='btn round btn--green' >Marathi</button>
    </div>
    <div class='absolute bottom right pr12 pb24'>
      <button  href='index.html' class='btn round btn--blue'>English</button>
    </div>
  </div>


  <div id="map"></div>


  <!--Load JS Scripts-->
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script async defer src="https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.js"></script>

  <!--Custom JS-->
  <script>
    var options = {
      center: [21.7679, 78.8718],
      zoom: 5,
      minZoom: 2,
      maxZoom: 12,
      maxBounds: [
        [21.7779, 78.8618],
        [21.7579, 78.8718]
      ],
      zoomControl: false
    };
    var map = L.map('map', options);

    L.control.zoom({ position:'topright', scrollWheelZoom: true, doubleClickZoom: true,}).addTo(map);

    //Basemap
    L.tileLayer('http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
      subdomains: 'abcd',
      maxZoom: 19
    }).addTo(map);

map.createPane('labels');
map.getPane('labels').style.zIndex = 650;
map.getPane('labels').style.pointerEvents = 'none';

L.tileLayer('http://global.ssl.fastly.net/rastertiles/dark_only_labels/{z}/{x}/{y}.png', {
        attribution: '©OpenStreetMap, ©CartoDB',
        pane: 'labels'
}).addTo(map);

    //Loading data layers
    $.when(
      $.getJSON('Data/India-States.geojson'),
      $.getJSON('Data/wildlife-areas.json'),
      $.getJSON('Data/conservation-areas.json'),
      $.getJSON('Data/conservation-focus.json'),
    ).done(function(indiaStates, wildlifeAreas, conservationAreas, conservationFocus) {
      drawMap(indiaStates, wildlifeAreas, conservationAreas, conservationFocus);
    });

    function drawMap(indiaStatesData, wildlifeAreasData, conservationAreasData, conservationFocusData) {
      L.geoJson(indiaStatesData, {
        style: statesOptions,
        onEachFeature: function(feature, layer) {
            // shortut to variable
            var tooltip = feature.properties.NAME;
            // bind the tooltip to the layer
            layer.bindTooltip(tooltip, {
                sticky: true,
                className: 'tooltip'
            });
            // visual affordance on mouseover
            layer.on('mouseover', function(e) {
                this.setStyle({
                    weight: 1
                });
            });
            // use existing option to reset the styles on mouseout
            layer.on('mouseout', function(e) {
                this.setStyle(conAreasOptions);
            });
        }
      }).addTo(map);

      L.geoJson(wildlifeAreasData, {
        style: wildlifeOptions,
        onEachFeature: function(feature, layer) {
            // shortut to variable
            var tooltip = feature.properties.NAME;
            // bind the tooltip to the layer
            layer.bindTooltip(tooltip, {
                sticky: true,
                className: 'tooltip'
            });
            // visual affordance on mouseover
            layer.on('mouseover', function(e) {
                this.setStyle({
                    weight: 1
                });
            });
            // use existing option to reset the styles on mouseout
            layer.on('mouseout', function(e) {
                this.setStyle(wildlifeOptions);
            });
        }
      }).addTo(map);

      L.geoJson(conservationAreasData, {
        style: conAreasOptions,
        onEachFeature: function(feature, layer) {
            // shortut to variable
            var tooltip = feature.properties.tcl_name;
            // bind the tooltip to the layer
            layer.bindTooltip(tooltip, {
                sticky: true,
                className: 'tooltip'
            });
            // visual affordance on mouseover
            layer.on('mouseover', function(e) {
                this.setStyle({
                    weight: 1
                });
            });
            // use existing option to reset the styles on mouseout
            layer.on('mouseout', function(e) {
                this.setStyle(conAreasOptions);
            });
        }
      }).addTo(map);

      L.geoJson(conservationFocusData, {
        style: conFocusOptions,
        onEachFeature: function(feature, layer) {
            // shortut to variable
            var tooltip = feature.properties.tcl_name;
            // bind the tooltip to the layer
            layer.bindTooltip(tooltip, {
                sticky: true,
                className: 'tooltip'
            });
            // visual affordance on mouseover
            layer.on('mouseover', function(e) {
                this.setStyle({
                    weight: 1
                });
            });
            // use existing option to reset the styles on mouseout
            layer.on('mouseout', function(e) {
                this.setStyle(conFocusOptions);
            });
        }
      }).addTo(map);
    }


    // Layer styles
    var statesOptions = {
      color: '#404040',
      weight: 0.25,
      fill: false
    }

    var conAreasOptions = {
      color: '#F3CF1E',
      weight: 0.5,
      fillOpacity: 0.7
    }

    var conFocusOptions = {
      color: '#A14A37',
      weight: 0.5,
      fillOpacity: 0.9
    }

    var wildlifeOptions = {
      color: '#3B9B82',
      weight: 0.5,
      fillOpacity: 0.5
    }


  </script>
</body>

</html>
